"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var crypto=require("crypto"),fs=require("fs"),path=require("path");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var crypto__default=/* */_interopDefaultLegacy(crypto),fs__default=/* */_interopDefaultLegacy(fs),path__default=/* */_interopDefaultLegacy(path);let randomBytes,randomIndex;function getRandomValue(){return(void 0===randomIndex||randomIndex>=randomBytes.length)&&(randomBytes=crypto__default.default.randomBytes(256),randomIndex=0),randomIndex+=1,randomBytes[randomIndex]}function getRandomNumber(e){let t=getRandomValue();for(;void 0===t||t>=256-256%e;)t=getRandomValue();return t%e}function getRandomPattern(t,e){var r=e?"NWW":"WWW";let a="";for(let e=0;e<t;e+=1)a+=r[getRandomNumber(2)];return a}function getRandomWord(){var e=fs__default.default.readFileSync(path__default.default.resolve(__dirname,"id.txt"),"utf8").split("\n");return e[crypto__default.default.randomInt(0,e.length)]}function generate(e={}){const t={length:4,separator:"-",numbers:!0,uppercase:!1,titlecase:!1,pattern:null,...e};if(0===t.length)throw new Error("Length should be 1 or bigger. It should not be zero.");const r=[];let a;a=t.pattern?t.pattern.toUpperCase():getRandomPattern(t.length,t.numbers);var n=a.split("");for(let e=0;e<n.length;e+=1)if("N"===n[e])r.push(getRandomValue());else{if("W"!==n[e])throw new Error("Unknown pattern found. Use N or W instead.");{let e;const u=getRandomWord();var o=getRandomNumber(1);t.uppercase?(e=u.match(/[-]/g)?u.split("-"):u.match(/[ ]/g)?u.split(" "):[u,u,u],r.push(e[o].toUpperCase())):t.titlecase?(e=u.match(/[-]/g)?u.split("-"):u.match(/[ ]/g)?u.split(" "):[u,u,u],r.push(e[o].replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()))):u.match(/[ ]/g)?(e=u.split(" "),r.push(e[o])):u.match(/[-]/g)?(e=u.split("-"),r.push(e[o])):r.push(u)}}return r.join(t.separator)}function generateMultiple(t,r={}){const a=[];for(let e=0;e<t;e+=1)a[e]=generate(r);return a}exports.generate=generate,exports.generateMultiple=generateMultiple;
