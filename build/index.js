import t from"crypto";import e from"fs";import r from"path";let n,o;function s(){return(void 0===o||o>=n.length)&&(n=t.randomBytes(256),o=0),o+=1,n[o]}function p(t){let e=s();for(;void 0===e||e>=256-256%t;)e=s();return e%t}function l(){const n=e.readFileSync(r.resolve(__dirname,"id.txt"),"utf8").split("\n");return n[t.randomInt(0,n.length)]}function a(t={}){const e={length:4,separator:"-",numbers:!0,uppercase:!1,titlecase:!1,pattern:null,...t};if(e.length<=0)throw new Error("Length should be 1 or bigger. It should not be zero or lower.");const r=[];let n;n=e.pattern?e.pattern.toUpperCase():function(t,e){const r=e?"NWW":"WWW";let n="";for(let e=0;e<t;e+=1)n+=r[p(2)];return n}(e.length,e.numbers);const o=n.split("");for(let t=0;t<o.length;t+=1)if("N"===o[t])r.push(s());else{if("W"!==o[t])throw new Error("Unknown pattern found. Use N or W instead.");{let t;const n=l(),o=p(1);e.uppercase?(t=n.match(/[-]/g)?n.split("-"):n.match(/[ ]/g)?n.split(" "):[n,n,n],r.push(t[o].toUpperCase())):e.titlecase?(t=n.match(/[-]/g)?n.split("-"):n.match(/[ ]/g)?n.split(" "):[n,n,n],r.push(t[o].replace(/\w\S*/g,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())))):n.match(/[ ]/g)?(t=n.split(" "),r.push(t[o])):n.match(/[-]/g)?(t=n.split("-"),r.push(t[o])):r.push(n)}}return r.join(e.separator)}function i(t,e={}){const r=[];for(let n=0;n<t;n+=1)r[n]=a(e);return r}export{a as generate,i as generateMultiple};
